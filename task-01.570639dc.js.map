{"mappings":"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","sources":["node_modules/@swc/helpers/lib/_class_call_check.js","node_modules/@swc/helpers/lib/_create_class.js","src/js/01-api-service.js","<<jsx-config-pragma.js>>","src/js/get-refs.js","src/js/01-renderMarkup.js","src/js/task-01.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _classCallCheck;\nfunction _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n        throw new TypeError(\"Cannot call a class as a function\");\n    }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _createClass;\nfunction _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    return Constructor;\n}\nfunction _defineProperties(target, props) {\n    for(var i = 0; i < props.length; i++){\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if (\"value\" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n    }\n}\n","export class FetchApiService {\n     constructor() {\n         this.searchQuery = '';\n         this.page = 1;\n         this.per_page = '40';\n        }\n\n    fetchPhotos() {                \n        const BASE_URL = 'https://pixabay.com/api'; \n        const params = new URLSearchParams({\n            key: '39342201-f813eddd1adb93dcbf05db88a',\n            q: this.searchQuery,\n            image_type: 'photo',\n            orientation: 'horizontal',\n            safesearch: true,\n            per_page: '40',\n            page: this.page,             \n        });\n        const url = `${BASE_URL}/?${params}`;\n        \n        return fetch(url).then(response => {             \n            if (!response.ok) {\n                throw new Error(response.status);\n            }\n            return response.json();             \n        });         \n    }\n\n    get query() {\n        return this.searchQuery;         \n    }\n\n    set query(newQuery) {\n        this.searchQuery = newQuery;         \n    }\n\n    incrementPage() {\n        this.page += 1; \n    }\n \n    resetPage() {\n        this.page = 1; \n    }    \n}\n\n",null,"export default function getRefs() {\n  return {\n    searchForm: document.querySelector('.search-form'),\n    photosContainer: document.querySelector('.gallery'),\n    loadMoreBtn: document.querySelector('.load-more'),\n  };\n}\n","import getRefs from \"./get-refs\";\n\nconst refs = getRefs();\n\nexport function renderHits(arr) {\n  const markup = arr\n    .map(({\n      webformatURL,\n      tags,\n      likes,\n      views,\n      comments,\n      downloads \n    }) => {       \n      return `<div class=\"photo-card\">\n        <img src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\" />\n       <div class=\"info\">\n        <p class=\"info-item\">\n            <b>Likes: ${likes}</b>\n        </p>\n        <p class=\"info-item\">\n            <b>Views: ${views}</b>\n        </p>\n        <p class=\"info-item\">\n            <b>Comments: ${comments}</b>\n        </p>\n        <p class=\"info-item\">\n            <b>Downloads: ${downloads}</b>\n        </p>\n        </div>\n          </div>`;\n    })\n    .join('');\n\n  refs.photosContainer.insertAdjacentHTML('beforeend', markup);\n}\n\n","\nimport { FetchApiService }  from \"./01-api-service\";\nimport getRefs from \"./get-refs\";\nimport { renderHits } from \"./01-renderMarkup\"; \n\nconst refs = getRefs(); \nconst fetchApiService = new FetchApiService(); \n\nrefs.loadMoreBtn.classList.add('is-hidden');\nrefs.searchForm.addEventListener('submit', onSearch);\nrefs.loadMoreBtn.addEventListener('click', onLoad);  \n\nfunction onSearch(e) {\n  e.preventDefault();\n\n  refs.loadMoreBtn.classList.add('is-hidden');\n  clearPhotosContainer();   \n  fetchApiService.query = e.currentTarget.elements.searchQuery.value;\n  fetchApiService.resetPage();\n \n  if (!fetchApiService.query) {\n    alert(`Pole puste`);\n    return;\n  }\n\n  fetchApiService.fetchPhotos()\n    .then(data => {\n      console.log(data);\n        if (data.hits.length == 0) {\n        alert(`Sorry, there are no images matching your \n              search query. Please try again`);\n        return;\n      } \n      console.log(data.totalHits);\n       if (data.totalHits) {\n        alert(`Hooray! We found ${data.totalHits} images.`);\n        // return;\n      } \n            \n      renderHits(data.hits);\n      refs.loadMoreBtn.classList.remove('is-hidden');\n    })\n    .catch(error => console.log(error));\n}\n\nfunction onLoad() {   \n  fetchApiService.incrementPage();   \n  fetchApiService.fetchPhotos()\n    .then(data => { \n      console.log(data);     \n      if (data.hits.length == 0) {\n        alert(`We're sorry, but you've reached the end of \n         search results.`);\n        return;\n      } \n      renderHits(data.hits);\n    })\n    .catch(error => console.log(error));\n}\n\nfunction clearPhotosContainer() {\n  refs.photosContainer.innerHTML = ' ';\n}\n"],"names":["Object","defineProperty","$665014edacbfe17b$exports","value","default","instance","Constructor","TypeError","$74e7f8130373505f$var$_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","$74e7f8130373505f$exports","protoProps","staticProps","prototype","$22532e427513a891$export$2058b053a8b70286","FetchApiService","this","searchQuery","page","per_page","params","URLSearchParams","q","image_type","orientation","safesearch","url","concat","fetch","then","response","ok","Error","status","json","newQuery","$28e87b1ff6534a73$export$2e2bcd8739ae039","searchForm","document","querySelector","photosContainer","loadMoreBtn","$ca42bd01052e6c32$var$refs","$ca42bd01052e6c32$export$4de42e61a21600ec","arr","markup","map","param","webformatURL","tags","likes","views","comments","downloads","join","insertAdjacentHTML","$07f0dcc9b730cef4$var$refs","$07f0dcc9b730cef4$var$fetchApiService","classList","add","addEventListener","e","preventDefault","innerHTML","$07f0dcc9b730cef4$var$clearPhotosContainer","query","currentTarget","elements","resetPage","alert","fetchPhotos","data","console","log","hits","totalHits","remove","catch","error","incrementPage"],"version":3,"file":"task-01.570639dc.js.map"}
!function(){function n(){return{searchForm:document.querySelector(".search-form"),photosContainer:document.querySelector(".gallery"),loadMoreBtn:document.querySelector(".load-more")}}var e=n();function t(n){var t=n.map((function(n){return'<div class="photo-card">\n        <img src="'.concat(n.webformatURL,'" alt="').concat(n.tags,'" loading="lazy" />\n       <div class="info">\n        <p class="info-item">\n            <b>Likes: ').concat(n.likes,'</b>\n        </p>\n        <p class="info-item">\n            <b>Views: ').concat(n.views,'</b>\n        </p>\n        <p class="info-item">\n            <b>Comments: ').concat(n.comments,'</b>\n        </p>\n        <p class="info-item">\n            <b>Downloads: ').concat(n.downloads,"</b>\n        </p>\n        </div>\n          </div>")})).join("");e.photosContainer.insertAdjacentHTML("beforeend",t)}var o,a=n(),r=1;function c(){var n=new URLSearchParams({key:"39342201-f813eddd1adb93dcbf05db88a",q:o,image_type:"photo",orientation:"horizontal",safesearch:!0,per_page:40,page:r}),e="".concat("https://pixabay.com/api","/?").concat(n);return fetch(e).then((function(n){if(!n.ok)throw new Error(n.status);return n.json()}))}a.loadMoreBtn.classList.add("is-hidden"),a.searchForm.addEventListener("submit",(function(n){if(n.preventDefault(),a.loadMoreBtn.classList.add("is-hidden"),function(){a.photosContainer.innerHTML=" "}(),!(o=n.currentTarget.elements.searchQuery.value))return void alert("Pole puste");c().then((function(n){console.log(n),0!=n.hits.length?(t(n.hits),a.loadMoreBtn.classList.remove("is-hidden")):alert("Sorry, there are no images matching your \n              search query. Please try again")})).catch((function(n){return console.log(n)}))})),a.loadMoreBtn.addEventListener("click",(function(){r+=1,c().then((function(n){console.log(n.totalHits),r-1>n.totalHits/40?alert("We're sorry, but you've reached the end of \n         search results."):t(n.hits)})).catch((function(n){return console.log(n)}))}))}();
//# sourceMappingURL=task-01.6e66cc04.js.map
